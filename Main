package Labpertemuan6;

import java.io.BufferedInputStream;
import java.io.DataInputStream;
import java.io.File;
import java.io.FileInputStream;
import java.util.ArrayList;
import java.util.List;

public class Main {
	public static void main(String[] args) {
		File file = new File("C:/Users/USER/eclipse-workspace/Labpertemuan6/src/Labpertemuan6/DaftarLAPTOP.txt");
		FileInputStream fis = null;
		BufferedInputStream bis = null;
		DataInputStream dis = null;
		List<Encapsulation> listLaptop = new ArrayList<Encapsulation>();
		
		//errorhandling
		try {//Memproses busines logic
			fis = new FileInputStream(file);
			bis = new BufferedInputStream(fis);
			dis = new DataInputStream(bis);
			System.out.println("File "+file.getName()+" ditemukan");
			
			while(dis.available() != 0) {
				String line = dis.readLine();
				//System.out.println(line);
				String[] data = line.split(",");
				//data = {"HP Pavilion 14","intel Core i5","13","16","512","Windows"}
				for(String d : data) {
					System.out.println("=======================");
					System.out.println(d);
				}
				
				Encapsulation e = new Encapsulation();
					e.setTipeSeries(data[0]);
					e.setProcessor(data[1]);
					int layar= Integer.parseInt(data[2]); 
					e.setLayar(layar);
					int RAM= Integer.parseInt(data[3]); 
					e.setRAM(RAM);
					int ROM= Integer.parseInt(data[3]); 
					e.setROM(ROM);
					e.setOperatingSystem(data[5]);
					
					listLaptop.add(e);
					
			}
			
		} catch (Exception e) { //menampilkan business logic tidak dapat dikerjakan
			System.out.println("File "+file.getName()+" tidak ditemukan");
			System.out.println("Error "+e.getMessage());
		}
		
		for(Encapsulation e : listLaptop) {
			System.out.println("=======================");
			System.out.println("Tipe Series :"+e.getTipeSeries());
			System.out.println("Processor :"+e.getProcessor());
			System.out.println("Layar :"+e.getLayar());
			System.out.println("RAM :"+e.getRAM());
			System.out.println("ROM :"+e.getROM());
			System.out.println("OS :"+e.getOperatingSystem());
		}
	}

}
